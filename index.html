<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Warehouse Dispatch Form</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      direction: rtl;
      padding: 20px;
      background: #f9f9f9;
      position: relative;
      text-align: right;
    }

    label, select, input, button {
      display: block;
      width: 100%;
      margin-bottom: 10px;
      font-size: 1rem;
      padding: 8px;
      box-sizing: border-box;
    }

    button#submitBtn {
      background: #007bff;
      color: #fff;
      border: none;
      cursor: pointer;
    }

    button#submitBtn:hover {
      background: #0056b3;
    }

    #accumulatedItems, #previousEntries {
      white-space: pre-wrap;
      background: #fff;
      border: 1px solid #ccc;
      padding: 10px;
      min-height: 80px;
      margin-bottom: 20px;
    }

    .entry-box {
      background: #f0f0f0;
      border: 1px solid #ddd;
      padding: 10px 40px 10px 10px;
      margin-bottom: 10px;
      white-space: normal;
      position: relative;
      border-radius: 4px;
    }

    .delete-icon {
      position: absolute;
      top: 10px;
      left: 10px;
      width: 20px;
      height: 20px;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.3s ease;
    }

    .delete-icon:hover {
      opacity: 1;
    }

    h3 { margin-top: 30px; }

    #langToggle {
      float: right;
      background: #f0f0f0;
      color: #333;
      border: 1px solid #ccc;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 0.9rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: background 0.3s ease;
      margin-bottom: 15px;
    }

    #langToggle:hover {
      background: #e0e0e0;
    }
  </style>
</head>
<body>

<div style="overflow: hidden;">
  <button id="langToggle">
    🌐 <span id="langText">English</span>
  </button>
</div>

<h2 id="title">تسجيل سحب أصناف من المخزن</h2>

<label for="driverId" id="labelDriver">رقم السائق أو اسمه:</label>
<input type="text" id="driverId" />

<label for="itemSelect" id="labelItem">اختر الصنف:</label>
<select id="itemSelect"></select>

<label for="serialInput" id="labelSerial">أدخل رقم السيريال واضغط Enter:</label>
<input type="text" id="serialInput" />

<h3 id="addedItemsTitle">الأصناف المضافة:</h3>
<div id="accumulatedItems">(لا توجد بيانات بعد)</div>

<button id="submitBtn">إرسال</button>

<h3 id="previousEntriesTitle">السجلات السابقة:</h3>
<div id="previousEntries">جاري التحميل...</div>

<script type="module">
  const langToggle = document.getElementById('langToggle');
  const langText = document.getElementById('langText');
  let currentLang = 'ar';

  const langStrings = {
    ar: {
      title: "تسجيل سحب أصناف من المخزن",
      driverLabel: "رقم السائق أو اسمه:",
      driverPlaceholder: "أدخل رقم السائق أو اسمه",
      itemLabel: "اختر الصنف:",
      itemOptions: ["-- اختر صنف --", "شاشة", "كيبل", "راوتر", "لوحة مفاتيح"],
      serialLabel: "أدخل رقم السيريال واضغط Enter:",
      serialPlaceholder: "أدخل رقم السيريال هنا",
      addedItems: "الأصناف المضافة:",
      previousEntries: "السجلات السابقة:",
      submit: "إرسال",
      toggleText: "English",
      dir: "rtl",
      textAlign: "right"
    },
    en: {
      title: "Warehouse Dispatch Form",
      driverLabel: "Driver Name or ID:",
      driverPlaceholder: "Enter Driver Name or ID",
      itemLabel: "Select Item:",
      itemOptions: ["-- Select Item --", "Screen", "Cable", "Router", "Keyboard"],
      serialLabel: "Enter Serial and press Enter:",
      serialPlaceholder: "Enter Serial Number Here",
      addedItems: "Added Items:",
      previousEntries: "Previous Records:",
      submit: "Submit",
      toggleText: "عربي",
      dir: "ltr",
      textAlign: "left"
    }
  };

  function setLang(lang) {
    const t = langStrings[lang];
    document.body.dir = t.dir;
    document.body.style.textAlign = t.textAlign;

    document.getElementById('title').innerText = t.title;
    document.getElementById('labelDriver').innerText = t.driverLabel;
    document.getElementById('driverId').placeholder = t.driverPlaceholder;

    document.getElementById('labelItem').innerText = t.itemLabel;
    const itemSelect = document.getElementById('itemSelect');
    itemSelect.innerHTML = '';
    t.itemOptions.forEach((text, index) => {
      const option = document.createElement('option');
      option.value = index === 0 ? '' : text;
      option.text = text;
      itemSelect.appendChild(option);
    });

    document.getElementById('labelSerial').innerText = t.serialLabel;
    document.getElementById('serialInput').placeholder = t.serialPlaceholder;

    document.getElementById('addedItemsTitle').innerText = t.addedItems;
    document.getElementById('previousEntriesTitle').innerText = t.previousEntries;
    document.getElementById('submitBtn').innerText = t.submit;
    langText.innerText = t.toggleText;
  }

  langToggle.addEventListener('click', () => {
    currentLang = currentLang === 'ar' ? 'en' : 'ar';
    setLang(currentLang);
  });

  setLang('ar'); // Set default language to Arabic
</script>

</body>
</html>
