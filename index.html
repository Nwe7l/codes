<!DOCTYPE html>
<html>
<head>
  <title>Warehouse Dispatch - Google Sheets</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f0f0f0; }
    input, select, button { padding: 8px; margin: 5px; }
  </style>
</head>
<body>

<h2>Warehouse Dispatch Tracker</h2>

<input type="text" id="driverId" placeholder="Driver ID" />
<input type="file" id="driverImage" accept="image/*" />
<br>

<select id="item">
  <option value="">-- Select Item --</option>
  <option>Screen</option>
  <option>Router</option>
  <option>Cable</option>
</select>

<input type="text" id="serial" placeholder="Serial Number" />
<button onclick="submit()">Submit</button>

<script>
  async function submit() {
    const driverId = document.getElementById("driverId").value;
    const serial = document.getElementById("serial").value;
    const item = document.getElementById("item").value;
    const imageFile = document.getElementById("driverImage").files[0];

    let imageUrl = '';
    if (imageFile) {
      const reader = new FileReader();
      reader.onload = async () => {
        imageUrl = reader.result;
        await sendToSheet();
      };
      reader.readAsDataURL(imageFile);
    } else {
      await sendToSheet();
    }

    async function sendToSheet() {
      const payload = {
        driverId,
        serial,
        item,
        imageUrl
      };

      await fetch("YOUR_WEB_APP_URL", {
        method: "POST",
        body: JSON.stringify(payload)
      });

      alert("Submitted!");
      document.getElementById("driverId").value = '';
      document.getElementById("serial").value = '';
      document.getElementById("item").value = '';
      document.getElementById("driverImage").value = '';
    }
  }
</script>

</body>
</html>
